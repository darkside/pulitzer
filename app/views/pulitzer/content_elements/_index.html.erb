<h2>Template content elements</h2>

<% version.template_content_elements.each do |content_element| %>
  <%= render partial: '/pulitzer/content_elements/show_wrapper', locals: { content_element: content_element } %>
<% end %>

<% if version.allow_free_form? %>
  <div id="<%= dom_id version, :free_form_elements %>">
    <h2>Free form content elements</h2>
    <div class="pulitzer-row margin-bottom list-item">
      <%= ajax_link "add a new content element for #{version.title}", new_content_element_path(version_id: version), {}, "#new_free_form_content_element_#{dom_id(version)}" %>
      <div id="<%= dom_id(version, :new_free_form_content_element) %>"></div>
    </div>
    <div class="pulitzer-row margin-bottom list-item" id="<%= dom_id(version, :free_form_content_element_container) %>" id="content_element_list" data-sorter href="<%= update_all_content_elements_path %>">
      <% version.free_form_content_elements.each do |content_element| %>
        <%= render partial: '/pulitzer/content_elements/show_wrapper', locals: { content_element: content_element } %>
      <% end %>
    </div>
  </div>
<% end %>
